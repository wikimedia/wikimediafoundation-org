(()=>{var e={703:(e,t,i)=>{"use strict";var n=i(414);function l(){}function a(){}a.resetWarningCache=l,e.exports=function(){function e(e,t,i,l,a,s){if(s!==n){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:l};return i.PropTypes=i,i}},697:(e,t,i)=>{e.exports=i(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function i(n){var l=t[n];if(void 0!==l)return l.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.i18n,t=window.wp.blocks;function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n.apply(this,arguments)}const l=window.wp.element,a=window.wp.components,s=window.wp.blockEditor;var r=i(697),o=i.n(r);const g=t=>{const{attributes:i,setAttributes:r}=t,{contentPostType:o,svgURL:g,type:m,imageID:u,imageSizes:c,alignment:h,imageWidth:d,imageHeight:p,dimensionWidth:f,dimensionHeight:v}=i,w=(0,s.useBlockProps)(),y=["image/svg+xml"],b=e=>{var t;if(!e.sizes&&!e.media_details?.sizes)return;e.media_details&&(e.sizes=e.media_details.sizes);const i=null!==(t=e.sizes.full.url)&&void 0!==t?t:e.sizes.full.source_url;r({imageSizes:{full:e.sizes.full,medium:e.sizes.medium,thumbnail:e.sizes.thumbnail},imageWidth:e.sizes.full.width,imageHeight:e.sizes.full.height,dimensionWidth:e.sizes.full.width,dimensionHeight:e.sizes.full.height,imageID:e.id,svgURL:i,type:"full"})};return(0,l.createElement)("div",n({},w,{style:{overflow:"hidden"}}),g&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(a.PanelBody,{title:(0,e.__)("Image settings","safe-svg")},(0,l.createElement)(s.__experimentalImageSizeControl,{width:f,height:v,imageWidth:d,imageHeight:p,imageSizeOptions:[{value:"full",label:"Full Size"},{value:"medium",label:"Medium"},{value:"thumbnail",label:"Thumbnail"}],slug:m,onChange:e=>{var t,i;e.width||e.height||(e.width=parseInt(c[m].width),e.height=parseInt(c[m].height)),r({dimensionWidth:null!==(t=e.width)&&void 0!==t?t:f,dimensionHeight:null!==(i=e.height)&&void 0!==i?i:v})},onChangeImage:e=>{var t;const i=null!==(t=c[e].url)&&void 0!==t?t:c[e].source_url;if(!i)return null;let n=parseInt(c[e].width),l=parseInt(c[e].height);"full"!==e&&(c[e].width>=c[e].height?l=c[e].height*c.full.height/c.full.width:n=c[e].width*c.full.width/c.full.height),r({svgURL:i,imageWidth:n,imageHeight:l,dimensionWidth:n,dimensionHeight:l,type:e})}}))),(0,l.createElement)(s.BlockControls,null,(0,l.createElement)(s.AlignmentToolbar,{value:h,onChange:e=>r({alignment:e})})),(0,l.createElement)(s.BlockControls,null,(0,l.createElement)(s.MediaReplaceFlow,{mediaId:u,mediaURL:g,allowedTypes:y,accept:y,onSelect:b,onError:t=>{console.log((0,e.__)(`Something went wrong, please try again. Message: ${t}`,"safe-svg"))}}))),(0,l.createElement)(s.MediaUpload,{onSelect:b,allowedTypes:y,accept:y,value:u,render:t=>{let{open:i}=t;return(0,l.createElement)("div",{style:{maxWidth:"100%",textAlign:h}},!g&&(0,l.createElement)(a.Button,{variant:"tertiary",onClick:i},(0,e.__)("Select an SVG icon","safe-svg")),g&&(0,l.createElement)("svg",{style:{width:f,height:v,maxWidth:"100%",maxHeight:"100%"}},(0,l.createElement)("image",{xlinkHref:g,src:g,width:f<v?f:"100%",style:{height:f>v?v:"auto"}})))}}),o&&(0,l.createElement)(a.Placeholder,{label:(0,e.__)("SafeSvg","safe-svg")},(0,l.createElement)("p",null,(0,e.__)("Please select the SVG icon.","safe-svg"))))};g.propTypes={attributes:o().shape({svgURL:o().string,alignment:o().string,imageID:o().number,imageWidth:o().number,imageHeight:o().number,dimensionWidth:o().number,dimensionHeight:o().number,imageSizes:o().object}).isRequired,className:o().string,clientId:o().string,setAttributes:o().func.isRequired};const m=g,u=JSON.parse('{"u2":"safe-svg/svg-icon"}');(0,t.registerBlockType)(u.u2,{title:(0,e.__)("Safe SVG Icon","safe-svg"),description:(0,e.__)("Display an SVG icon","safe-svg"),edit:m,save:()=>null,icon:"format-image"})})()})();